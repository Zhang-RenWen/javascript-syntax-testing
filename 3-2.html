<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript-syntax-learning</title>
    <link rel="stylesheet" href="./hightlight/default.min.css" />
    <link
      rel="stylesheet"
      href=" https://necolas.github.io/normalize.css/8.0.1/normalize.css"
    />
    <link rel="stylesheet" href="./css/main.css" />
    <script src="./hightlight/hightlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
  </head>
  <body>
    <nav>
      <h1>現代 Javascript 實務應用</h1>
    </nav>
    <main>
      <aside></aside>
      <section>
        <h2>3-2 符號</h2>
        <p>
          符號在 ES6 中是一個新的基礎型別,是 JavaScript
          中的第七種資料型別。它是一個獨一無二的資料型別,如字串和數值一樣。符號並沒有字面上的表示法,例如:text.是字串,或1是數值。符號的目的主要
          是為了實作一些協議。舉例來說,迭代協議是使用符號去定義物件進行迭代的方法。
        </p>
        <p>
          以下會介绍三種符號類型,分別:區域符號,利用Symbol內建的封裝物件建立並藉由儲存其參考,或透過反射(reflection)
          進行存取;全域符號,利用 API 建立並可於程式碼間分享使用;以及「通用(well.
          known)」符號,內建於 JavaScript 中並可以用以定義內部的語言行為。
        </p>
        <h3>3-2-1 區域符號</h3>
        <p>
          符號可以利用 Symbol 封裝物件建立，在下面的程式中,我們建立一個名稱為
          first 的符號。 const first = Symbol() 你可以用 new 關鍵字於 Number 和
          String 但若用於Symbol 則會拋出
          TypeError的錯誤·這是為了避免一些錯誤和令人混淆的行為發生,例 如: new
          Number(3) !== Number(3)。以下的程式碼便會拋出錯誤訊息。 const oops =
        </p>
        <pre><code class="language-js">
          new Symbol() // TypeError:Symbol不是一個建構子
        </code></pre>
        <p>為了方便除錯,你可以利用敘述句的方式建立符號。</p>
        <pre><code class="language-js">
          const mystery = Symbol('my symbol')
          </code></pre>
        <p>
          如數值和字串一樣，符號是不可改變的。然而,不像其他的資料型態，
          符號是具有唯一性的。如下面的程式範例,敘述句並不會影響它的唯一性。
          以相同的敘述句所建立的符號實際上並不相同,每個符號是獨一無二的。
        </p>
        <pre><code class="language-js">
console.log(Number(3) === Number(3)) // true
console.log(Symbol() === Symbol()) // false
console.log(Symbol('my symbol') === Symbol('my symbol')) // false
console.log(typeof Symbol()) // 'symbol'
console.log(typeof Symbol('my symbol')) // 'symbol'
          </code></pre>
        <p>
          符號可以作為物件的特性鍵。注意,過去你使用運算取得的特性名稱簡
          化敘述的方法,利用符號只需要加入一個 weapon 符號鍵於 character 物
          件即可達成,如以下範例。為了存取一個符號特性,你會需要一個參考
          至符號的變數,並用以建立該特性。
        </p>
        <pre><code class="language-js">
            const weapon = Symbol('weapon')
            const character = {
              name: 'Penguin',
              [weapon]: 'umbrella'
            }
            console.log(character[weapon]) // 'umbrella'
          </code></pre>
        <p>
          若使用傳統自物件取鍵的方式,是無法擷取到符號鍵的。下面範例呈現出,不管使用
          for..in、Object.keys、和 getOwnPropertyNames 都無法取得符號特性。
        </p>
        <pre><code class="language-js">
            for (let key in character) {
              console.log(key) // 'name'
            }
            console.log(Object.keys(character)) // ['name']
            console.log(Object.getownPropertyNames(character) // ['name']
          </code></pre>
        <p>JSON 描述也會忽略 Symbol 特性</p>
        <pre><code class="language-js">
            console.log(JSON.stringify(character)) // '{"name" : "Penguin"}'
          </code></pre>
        <p>實際上 Symbol 是可以被列舉，需要透過 Object.getownpropertysymbols</p>
        <pre><code class="language-js">
            console.log(Object.getOwnPropertySymbols(character)) // [Symbol(weapon) ]
          </code></pre>
      </section>
    </main>
  </body>
  <script src="./menu.js"></script>
</html>
