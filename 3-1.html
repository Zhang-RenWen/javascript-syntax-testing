<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="cache-control" content="no-cache">
  <title>JavaScript-syntax-testing</title>
  <link rel="stylesheet" href=" https://necolas.github.io/normalize.css/8.0.1/normalize.css" />
  <link rel="stylesheet" href="./hightlight/default.min.css" />
  <link rel="stylesheet" href="./css/main.css" />
  <link rel="stylesheet" href="./css/copybutton.css" />
  <link rel="stylesheet" href="./css/hightlight.css" />
  <script src="./hightlight/hightlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>

</head>

<body>
  <nav>
    <h1><a href="index.html">現代 Javascript 實務應用</a></h1>
  </nav>
  <main>
    <aside></aside>
    <section>
      <h2>3-1 類別</h2>
      <h3>3-1-1 類別基本元素</h3>
      <pre><code class="language-js">
  function Fruit(name, calories) {
  this.name = name
  this.calories = calories
  this.pieces = 1
  }

  Fruit.prototype.chop = function () {
  this.pieces++
  
        }
  Fruit.prototype.bite = function (person) {
  if (this.pieces &lt; 1) {
  return
  }
  const calories = this.calories / this.pieces
  person.satiety += calories
  this.calories -= calories
  this.pieces--
        }
        </code></pre>
      <pre><code class="language-js">
  const person = { satiety: 0 }  
  const apple = new Fruit('apple', 140)
  apple.chop()
  apple.chop()
  apple.chop()
  apple.bite(person)
  apple.bite(person)
  apple.bite(person)
  console.log(person.satiety)
  // 105
  console.log(apple.pieces)
  // 1
  console.log(apple.calories)
  // 35
        </code></pre>
      <pre><code class="language-js">
class Fruit {
    constructor(name, calories) {
    this.name = name
    this.calories = calories
    this.pieces = 1
    }

    chop() {
        this.pieces++
    }

    bite(person) {
        if (this.pieces &lt; 1) {
  return
        }
        const calories = this.calories / this.pieces
        person.satiety += calories
        this.calories -= calories
        this.pieces--
    }
}
        </code></pre>
      <pre><code class="language-js">
new Person()// ReferenceError:Person 未被定義
class Person {}
        </code></pre>
      <pre><code class="language-js">
const Person = class {
    constructor(name) {
        this.name = name
    }
}
        </code></pre>
      <pre><code class="language-js">
const createPersonClass = name =&gt; class extends Person { 
    constructor() {
    super(name)
    }
}
const JakePerson = createPersonClass('Jake')
const jake = new JakePerson()
console.log(jake) // Person {name: 'Jake'}
        </code></pre>

      <h3>3-1-2 類別中的特性與方法</h3>
      <pre><code class="language-js">
class Fruit {}
function Fruit() {}
        </code></pre>
      <pre><code class="language-js">
class Log {
  constructor(...args) {
    console.log(args)
  }
}

new Log('a', 'b', 'c') // ['a' 'b' 'c']
        </code></pre>
      <pre><code class="language-js">
class Counter {
  constructor(start) {
    this.count = start
  }
  get next() {
    return this.count++
  }
}
        </code></pre>
      <pre><code class="language-js">
    const counter = new Counter(2)
    console.log(counter.next)
    // 2
    console.log(counter.next)
    // 3
    console.log(counter.next)
    // 4
   </code></pre>
      <pre><code class="language-js">
class LocalStorage {
  constructor(key) {
    this.key = key
  }
  
  get data() {
    return JSON.parse(localStorage.getItem(this.key))
  }
  
  set data(data) {
    localStorage.setItem(this.key, JSON.stringify(data))
  }
}
  </code></pre>
      <pre><code class="language-js">
const ls = new LocalStorage('groceries')
ls.data = ['apples', 'bananas', 'grapes']
console.log(ls.data)  // ['apples', 'bananas', 'grapes']
        </code></pre>
      <pre><code class="language-js">
class Person {
  constructor() {
    this.satiety = 0
  }
  
  eat(fruit) {
    while (fruit.pieces &gt; 0) {
      fruit.bite(this) 
    }
  }
}

const plum = new Fruit('plum', 40)
const person = new Person()
person.eat(plum)
console.log(person.satiety) // 40
        </code></pre>
      <pre><code class="language-js">
function Person() {
  this.hunger = 100
}
       
Person.prototype.eat = function () {
  this.hunger--
}
        
Person.isPerson = function (person) {
  return person instanceof Person
}
        </code></pre>
      <pre><code class="language-js">
class MathHelper {
  static sum(...numbers) {
    return numbers.reduce((a, b) =&gt; a + b)
  }
}
console.log(MathHelper.sum(1,2,3,4,5)) // 15
        </code></pre>
      <h3>3-1-3 延伸 JavaScript 類別</h3>
      <pre><code class="language-js">
function Banana() {
  Fruit.call(this, 'banana', 105)
}
Banana.prototype = Object.create(Fruit.prototype)
Banana.prototype.slice = function (){
  this.pieces = 12
}
      </code></pre>
      <pre><code class="language-js">
const util = require('util')
function Banana() {
  Fruit.call(this, 'banana', 105)
}
util.inherits(Banana, Fruit)
Banana.prototype.slice = function () {
  this.pieces = 12
}
      </code></pre>
      <pre><code class="language-js">
const person =  {satiety: 0}
const banana = new Banana()
banana.slice()
banana.bite(person)
console.log(person.satiety) // 8.75
console.log(banana.pieces) // 11
console.log(banana.calories) // 96.25
      </code></pre>
      <pre><code class="language-js">
class Banana extends Fruit {
  constructor() {
    super('banana', 105)
  }
  
  slice() {
    this.pieces = 12
  }
}
      </code></pre>
      <pre><code class="language-js">
const createJuicyFruit = (...params) =&gt;
class JuicyFruit extends Fruit {
  constructor() {
    this.juice = 0
    super(...params)
  }
  
  squeeze() {
    if (this.calories &lt;= 0) {
      return
    }
    
    this.calories -= 10
    this.juice += 3
  }
}
class Plum extends createJuicyFruit('plum', 30) {}
      </code></pre>
    </section>
  </main>
</body>
<script type="module" src="./js/main.js"></script>


</html>